import telebot

TOKEN = "8380502228:AAFQ0M1fcpPll9xCD2h9_Ce1KeCVAAjAnio"
bot = telebot.TeleBot(TOKEN)

@bot.message_handler(commands=['start'])
def send_welcome(message):
    welcome_text = (
        "โจ **ูุฑุญุจุงู ุจู ูู ุญุงุณุจุฉ BTC ุงูุงุญุชุฑุงููุฉ** โจ\n\n"
        "ูุฑุฌู ุฅุฑุณุงู ุณุนุฑ ุฌุฑุงู **ุนูุงุฑ 21** ุงูุขู\n"
        "ูุณุฃููู ุจุญุณุงุจ ูุงูุฉ ุงูุณุจุงุฆู ูุงูุนููุงุช ุดุงููุฉ ุงููุตูุนูุฉ."
    )
    bot.reply_to(message, welcome_text, parse_mode="Markdown")

@bot.message_handler(func=lambda message: True)
def calculate_prices(message):
    try:
        p21 = float(message.text)
        p24 = p21 * 24 / 21

        response = "๐ **ุชูุฑูุฑ ุฃุณุนุงุฑ ุงูุฐูุจ ุดุงูู ุงููุตูุนูุฉ**\n"
        response += f"โโโ ุนูุงุฑ 21: `{p21:,.0f}` | ุนูุงุฑ 24: `{p24:,.0f}` โโโ\n\n"

        response += "๐ **ุณุจุงุฆู BTC (ุนูุงุฑ 24)**\nโโโโโโโโโโโโโโ\n"
        bullions = [
            ("ุณุจููุฉ 1 ุฌุฑุงู", 1, 185),
            ("ุณุจููุฉ 2.5 ุฌุฑุงู", 2.5, 110),
            ("ุณุจููุฉ 5 ุฌุฑุงู", 5, 85),
            ("ุณุจููุฉ 10 ุฌุฑุงู", 10, 82),
            ("ุณุจููุฉ 20 ุฌุฑุงู", 20, 80),
            ("ุฃููุตุฉ 31.1 ุฌุฑุงู", 31.1, 79),
            ("ุณุจููุฉ 50 ุฌุฑุงู", 50, 77),
            ("ุณุจููุฉ 100 ุฌุฑุงู", 100, 75),
        ]

        for name, w, fee in bullions:
            total = w * (p24 + fee)
            response += (
                f"๐ *{name}*\n"
                f"โ ุงููุตูุนูุฉ: `{fee}` ุฌ/ุฌุฑุงู\n"
                f"โ **ุงูุณุนุฑ ุงูููุงุฆู: `{total:,.0f}` ุฌ.ู**\n"
                "โโโโโโโโโโโโโโโโ\n"
            )

        response += "\n๐ช **ุนููุงุช BTC (ุนูุงุฑ 21)**\nโโโโโโโโโโโโโโ\n"
        coins = [
            ("ุฌููู ุฐูุจ (8 ุฌุฑุงู)", 8, 75),
            ("ูุตู ุฌููู (4 ุฌุฑุงู)", 4, 80),
            ("ุฑุจุน ุฌููู (2 ุฌุฑุงู)", 2, 85),
        ]

        for name, w, fee in coins:
            total = w * (p21 + fee)
            response += (
                f"๐ *{name}*\n"
                f"โ ุงููุตูุนูุฉ: `{fee}` ุฌ/ุฌุฑุงู\n"
                f"โ **ุงูุณุนุฑ ุงูููุงุฆู: `{total:,.0f}` ุฌ.ู**\n"
                "โโโโโโโโโโโโโโโโ\n"
            )

        response += (
            "\nโ๏ธ *ููุงุญุธุฉ: ุงูุฃุณุนุงุฑ ุดุงููุฉ ุงููุตูุนูุฉ ูุงูุฏูุบุฉ ูููุงู "
            "ูุขุฎุฑ ุชุญุฏูุซ ูุดุฑูุฉ BTC.*"
        )

        bot.reply_to(message, response, parse_mode="Markdown")

    except ValueError:
        bot.reply_to(message, "โ๏ธ ูู ูุถูู ุงุจุนุช ุงูุณุนุฑ ุฃุฑูุงู ุจุณ (ูุซุงู: 3550)")

print("Bot is running...")
bot.infinity_polling()
